{% extends 'common/basic_list.html' %}
{% load toolbox_tags %}
{% load table_tags %}

{% block list_title %}
    周期管理
{% endblock %}

{% block subtitle %}
    <small>
        Celery的计划任务调度周期，
        你可以在<a href="/frontend/celery_manager/preriodic_task_list/">这里</a>把周期和系统计划任务进行关联
    </small>
{% endblock %}

{% block list_filter %}
    <div class="col-sm-4">
        <div class="input-group">
            {% toolbox_add 'interval_schedule_add/' %}
            &nbsp;
            {% toolbox_batch_delete %}
        </div>
    </div>
{% endblock %}

{% block list_content %}
    <table class="table table-striped table-bordered table-hover dataTables-example dataTable">
        {% table_head "频率@every,周期@period" order_by ordering 'width:3%'%}
        <tbody>
        {% for o in result_list %}
            {% table o.id 'interval_schedule_edit/' o.id o.every o.period|interval_to_str %}
        {% endfor %}
        </tbody>
    </table>
{% endblock %}